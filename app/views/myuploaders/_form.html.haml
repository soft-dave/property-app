= form_for(@myuploader) do |f|
  - if @myuploader.errors.any?
    #error_explanation
      %h2
        = pluralize(@myuploader.errors.count, "error")
        prohibited this myuploader from being saved:
      %ul
        - @myuploader.errors.full_messages.each do |message|
          %li= message
  .field
    %span.btn.btn-success.fileinput-button
      %i.icon-plus.icon-white
      %span Add files...      
  .uploader{:onclick => "$('#filePhoto').click()"}
    click here or drag here your images for preview 
    %img{:src => ""}
    = f.file_field :image, :id => "filePhoto", :type => "file"
  %br
  .actions
    = f.submit

:javascript
  var imageLoader = document.getElementById('filePhoto');
      imageLoader.addEventListener('change', handleImage, false);
  function handleImage(e) {
      var reader = new FileReader();
      reader.onload = function (event) {
          $('.uploader img').attr('src',event.target.result);
      }
      reader.readAsDataURL(e.target.files[0]);
  }

:css
  .uploader {position:relative; overflow:hidden; width:300px; height:300px; background:#f3f3f3; border:2px dashed #000000;}
  
  #filePhoto{
      position:absolute;
      width:300px;
      height:400px;
      top:-50px;
      left:0;
      z-index:2;
      opacity:0;
      cursor:pointer;
  }
  
  .uploader img{
      position:absolute;
      width:302px;
      height:352px;
      top:-1px;
      left:-1px;
      z-index:1;
      border:none;
  }
